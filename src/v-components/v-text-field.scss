*, ::before, ::after {
  box-sizing: content-box; /* box-sizing을 content-box로 변경 */
  border-width: 0;
  border-style: none; /* 기존의 border-style을 none으로 설정 */
  border-color: transparent; /* border-color를 투명으로 설정 */
}
.v-text-field {
  &__field {
    z-index: 3;
    &-label {
      z-index: 5;
    }
    &-input {
      z-index: 4;
    }
  }
  &__overlay {
    z-index: 6;
  }
  &__outline {
    z-index: 2;
  }
  &__background {
    z-index: 1;
  }

}
.v-text-field {
  &__overlay,
  &__outline,
  &__background {
    position: absolute;
    display: flex;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    contain: layout;
    pointer-events: none;
    border-radius: inherit;
  }
}
.v-text-field {
  position: relative;
  width: 100%;
  flex: 1;
  cursor: pointer;
  color: rgb(var(--mio-theme-color-on-background));
  --v-text-field-height: 40px;
  --v-text-field-padding-start: 16px;
  --v-text-field-padding-end: 16px;
  --v-text-field-font-size: 16px;
  --v-text-field-border-radius: 12px;
  --v-text-field-border-width: 1px;
  --v-field-border-opacity: 0.08;
  --v-text-field-color-accent: var(--mio-theme-color-accent);
  --v-text-field-color-primary: var(--mio-theme-color-primary);
  --v-text-field-color-background: var(--mio-theme-color-primary-10);
  --v-text-field-color-error: var(--mio-theme-color-error);
  --v-text-field-color-white: 255 255 255;
  --v-text-field-font-family: var(--mio-theme-font-family);
  &__container {
    position: relative;
    border-radius: var(--v-text-field-border-radius);
  }

  &__field {
    position: relative;
    display: flex;
    align-items: flex-start;
    &-label {
      position: absolute;
      display: block;
      top: 50%;
      left: 0;
      transform: translateY(-50%) scale(0.9);
      padding: 0 var(--v-text-field-padding-end) 0
        var(--v-text-field-padding-start);
      pointer-events: none;
      font-size: var(--v-text-field-font-size);
      font-family: var(--v-text-field-font-family);
      opacity: 0.4;
      transform-origin: left;
      transition: all 0.2s ease;
      line-height: 100%;
      overflow: hidden;
      white-space: nowrap;
      text-overflow: ellipsis;
      color: currentColor;
    }
    &-input {
      position: relative;
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      width: 100%;
      height: var(--v-text-field-height);
      color: rgb(var(--v-text-field-color-primary));
      padding: 0 var(--v-text-field-padding-end) 0
        var(--v-text-field-padding-start);
      font-size: var(--v-text-field-font-size);
      background-color: transparent;
      border: none;
      outline: none;
      transform: scale(0.9375);
      transform-origin: left;
    }
    &-button {
      position: absolute;
      top: 0;
      right: var(--v-text-field-padding-end);
      width: fit-content;
      height: 100%;
      display: flex;
      align-items: center;
    }
  }
  &__outline {
    color: currentColor;
    opacity: var(--v-field-border-opacity);
    &-start {
      flex: 0 0 12px;
      border-top-width: var(--v-text-field-border-width);
      border-bottom-width: var(--v-text-field-border-width);
      border-inline-start-width: var(--v-text-field-border-width);
      border-start-start-radius: inherit;
      border-start-end-radius: 0;
      border-end-end-radius: 0;
      border-end-start-radius: inherit;
      border-style: solid;
      border-color: currentColor;
    }
    &-notch {
      position: relative;
      flex: none;
      max-width: calc(100% - 12px);
      &::before,
      &::after {
        position: absolute;
        content: "";
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        box-sizing: border-box;
      }
      &::before {
        border-width: var(--v-text-field-border-width) 0 0;
        border-style: solid;
        border-color: currentColor;
      }
      &::after {
        bottom: 0;
        border-width: 0 0 var(--v-text-field-border-width);
        border-style: solid;
        border-color: currentColor;
      }
    }
    &-label {
      position: static;
      display: block;
      transform: translateY(-50%);
      margin: 0 4px;
      font-size: calc(var(--v-text-field-font-size) * 0.75);
      visibility: hidden;
    }
    &-end {
      flex: 1;
      border-top-width: var(--v-text-field-border-width);
      border-bottom-width: var(--v-text-field-border-width);
      border-inline-end-width: var(--v-text-field-border-width);
      border-start-start-radius: 0;
      border-start-end-radius: inherit;
      border-end-end-radius: inherit;
      border-end-start-radius: 0;
      border-style: solid;
      border-color: currentColor;
    }
  }
  &__background {
    background-color: rgb(var(--v-text-field-color-background));
    opacity: 0.12;
  }
  &__overlay {
    background-color: rgb(var(--v-text-field-color-white));
    opacity: 0;
  }
  &__details {
    position: absolute;
    top: 100%;
    display: flex;
    gap: 4px;
    width: 100%;
    margin-top: 4px;
    color: rgb(var(--mio-theme-color-accent));
    &-messages {
      position: relative;
      flex: 1;
      min-height: 16px;
      font-size: 12px;
      line-height: 16px;
      display: flex;

      & span {
        font-size: inherit;
        line-height: inherit;
        display: block;
      }
    }
  }
}
// ! state
.v-text-field {
  // * Hover
  &--hover {
    --v-field-border-opacity: 0.2;
    .v-text-field__overlay {
      opacity: 0.12;
    }
  }
  // * Filled
  &--filled {
    --v-field-border-opacity: 0.38;
    .v-text-field__field {
      &-label {
        transform: translateY(-160%) scale(0.75);
        opacity: 1;
        margin: 0 4px;
      }
    }
    .v-text-field__outline {
      &-notch {
        &::before {
          border-style: none;
        }
      }
    }
  }
  // * Focused
  &--focused {
    --v-text-field-border-width: 2px;
    --v-field-border-opacity: 1;
    .v-text-field__field {
      &-label {
        transform: translateY(-160%) scale(0.75);
        opacity: 1;
        margin: 0 4px;
      }
    }
    .v-text-field__outline {
      &-notch {
        &::before {
          border-style: none;
        }
      }
    }
    .v-text-field__background {
      outline: 4px solid currentColor;
    }
  }
}

.v-text-field {
  color: rgb(var(--v-text-field-color-primary));
  &--invalid {
    color: rgb(var(--v-text-field-color-error));
  }
  &--focused {
    color: rgb(var(--v-text-field-color-accent));
  }
}

.v-text-field {
  color: rgb(var(--v-text-field-color-primary));
  &--invalid {
    color: rgb(var(--v-text-field-color-error));
  }
  &--focused {
    color: rgb(var(--v-text-field-color-accent));
  }
}
.v-text-field {
  &--invalid {
    .v-text-field__background {
      background-color: rgb(var(--v-text-field-color-error));
    }
  }
  &--focused {
    .v-text-field__background {
      background-color: rgb(var(--v-text-field-color-accent));
    }
  }
}
